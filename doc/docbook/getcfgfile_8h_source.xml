<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_getcfgfile_8h_source" xml:lang="en-US">
<title>getcfgfile.h</title>
<indexterm><primary>src/getcfgfile.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_getcfgfile_8h_source_1l00001"/>00001 <emphasis role="preprocessor">#ifndef&#32;GETCFGFILE_H</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00002"/>00002 <emphasis role="preprocessor">#define&#32;GETCFGFILE_H</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00003"/>00003 
<anchor xml:id="_getcfgfile_8h_source_1l00004"/>00004 <emphasis role="preprocessor">#ifdef&#32;&#32;__cplusplus</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00005"/>00005 <emphasis role="keyword">extern</emphasis>&#32;<emphasis role="stringliteral">&quot;C&quot;</emphasis>&#32;{
<anchor xml:id="_getcfgfile_8h_source_1l00006"/>00006 <emphasis role="preprocessor">#endif</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00007"/>00007 
<anchor xml:id="_getcfgfile_8h_source_1l00008"/>00008 <emphasis role="preprocessor">#include&#32;&lt;sys/stat.h&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00009"/>00009 <emphasis role="preprocessor">#include&#32;&lt;pwd.h&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00010"/>00010 <emphasis role="preprocessor">#include&#32;&lt;unistd.h&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00011"/>00011 
<anchor xml:id="_getcfgfile_8h_source_1l00012"/>00012 <emphasis role="preprocessor">#ifdef&#32;&#32;__cplusplus</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00013"/>00013 }
<anchor xml:id="_getcfgfile_8h_source_1l00014"/>00014 <emphasis role="preprocessor">#endif</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00015"/>00015 
<anchor xml:id="_getcfgfile_8h_source_1l00016"/>00016 <emphasis role="preprocessor">#ifdef&#32;_WIN32</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00017"/>00017 &#32;&#32;&#32;<emphasis role="keyword">constexpr</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_getcfgfile_8h_1af9e8b915e27b254347872715f029ea0e">sep</link>&#32;=&#32;<emphasis role="charliteral">&apos;\\&apos;</emphasis>;
<anchor xml:id="_getcfgfile_8h_source_1l00018"/>00018 <emphasis role="preprocessor">#else</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00019"/><link linkend="_getcfgfile_8h_1af9e8b915e27b254347872715f029ea0e">00019</link> &#32;&#32;&#32;<emphasis role="keyword">constexpr</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_getcfgfile_8h_1af9e8b915e27b254347872715f029ea0e">sep</link>&#32;=&#32;<emphasis role="charliteral">&apos;/&apos;</emphasis>;
<anchor xml:id="_getcfgfile_8h_source_1l00020"/>00020 <emphasis role="preprocessor">#endif</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00021"/>00021 
<anchor xml:id="_getcfgfile_8h_source_1l00022"/>00022 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="_common_8h">common.h</link>&quot;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00023"/>00023 <emphasis role="preprocessor">#include&#32;&lt;vector&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00024"/>00024 <emphasis role="preprocessor">#include&#32;&lt;json/json.h&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00025"/>00025 <emphasis role="preprocessor">#include&#32;&lt;json/value.h&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00026"/>00026 <emphasis role="preprocessor">#include&#32;&lt;fstream&gt;</emphasis>
<anchor xml:id="_getcfgfile_8h_source_1l00027"/>00027 
<anchor xml:id="_getcfgfile_8h_source_1l00028"/><link linkend="_classGetCfgFile">00028</link> <emphasis role="keyword">class&#32;</emphasis><link linkend="_classGetCfgFile">GetCfgFile</link>&#32;
<anchor xml:id="_getcfgfile_8h_source_1l00029"/>00029 {
<anchor xml:id="_getcfgfile_8h_source_1l00030"/>00030 <emphasis role="keyword">public</emphasis>:
<anchor xml:id="_getcfgfile_8h_source_1l00031"/>00031 &#32;&#32;&#32;&#32;<link linkend="_classGetCfgFile">GetCfgFile</link>(std::string&#32;file,&#32;<emphasis role="keywordtype">bool</emphasis>&#32;createdir&#32;=&#32;<emphasis role="keyword">false</emphasis>);
<anchor xml:id="_getcfgfile_8h_source_1l00032"/><link linkend="_classGetCfgFile_1a4359f2375834040b932fdffa106a19c4">00032</link> &#32;&#32;&#32;&#32;<link linkend="_classGetCfgFile_1a4359f2375834040b932fdffa106a19c4">~GetCfgFile</link>()&#32;=&#32;<emphasis role="keywordflow">default</emphasis>;
<anchor xml:id="_getcfgfile_8h_source_1l00033"/>00033 
<anchor xml:id="_getcfgfile_8h_source_1l00034"/>00034 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classGetCfgFile_1a9ec1ad40b7b82dc8c37532bdbbf3b7c1">save_cfg_file</link>(<emphasis role="keyword">const</emphasis>&#32;Json::Value&#32;json);
<anchor xml:id="_getcfgfile_8h_source_1l00035"/><link linkend="_classGetCfgFile_1ada73da323a67df88e661ffe0dc7420d7">00035</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">const</emphasis>&#32;Json::Value&#32;&amp;<link linkend="_classGetCfgFile_1ada73da323a67df88e661ffe0dc7420d7">get_json</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classGetCfgFile_1a5d62bc4744931271a5fac205868533df">_m_json</link>;};
<anchor xml:id="_getcfgfile_8h_source_1l00036"/><link linkend="_classGetCfgFile_1aa53d21ff1f09671785aaae19d4aef016">00036</link> &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1aa53d21ff1f09671785aaae19d4aef016">get_file_dir</link>()&#32;{<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classGetCfgFile_1a92700df8d3f3300174f9818b0a4dc375">_file_dir</link>;};
<anchor xml:id="_getcfgfile_8h_source_1l00037"/><link linkend="_classGetCfgFile_1aeb520cbfe46cd228acf9bd931b0724ca">00037</link> &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1aeb520cbfe46cd228acf9bd931b0724ca">get_file_name</link>()&#32;{<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classGetCfgFile_1a7eae87542d086594f58ccb44a3c9a1fe">_filename</link>;};
<anchor xml:id="_getcfgfile_8h_source_1l00038"/>00038 &#32;&#32;&#32;&#32;<emphasis role="keyword">operator</emphasis>&#32;bool()&#32;<emphasis role="keyword">const</emphasis>;
<anchor xml:id="_getcfgfile_8h_source_1l00039"/>00039 
<anchor xml:id="_getcfgfile_8h_source_1l00040"/>00040 <emphasis role="keyword">private</emphasis>:
<anchor xml:id="_getcfgfile_8h_source_1l00041"/>00041 &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1abbf4763eb5a2cc53a1c1bc5f35e0a43d">ExtractFileName</link>(<emphasis role="keyword">const</emphasis>&#32;std::string&amp;&#32;s);
<anchor xml:id="_getcfgfile_8h_source_1l00042"/>00042 &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1a3c21a868daa2bebd703097cbc058b50c">ExtractFileDir</link>(<emphasis role="keyword">const</emphasis>&#32;std::string&amp;&#32;s);&#32;
<anchor xml:id="_getcfgfile_8h_source_1l00043"/>00043 
<anchor xml:id="_getcfgfile_8h_source_1l00044"/><link linkend="_classGetCfgFile_1a7eae87542d086594f58ccb44a3c9a1fe">00044</link> &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1a7eae87542d086594f58ccb44a3c9a1fe">_filename</link>;
<anchor xml:id="_getcfgfile_8h_source_1l00045"/><link linkend="_classGetCfgFile_1a92700df8d3f3300174f9818b0a4dc375">00045</link> &#32;&#32;&#32;&#32;std::string&#32;<link linkend="_classGetCfgFile_1a92700df8d3f3300174f9818b0a4dc375">_file_dir</link>;
<anchor xml:id="_getcfgfile_8h_source_1l00046"/><link linkend="_classGetCfgFile_1a7c23d94e4f2efaabaad63b96b94e470b">00046</link> &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_classGetCfgFile_1a7c23d94e4f2efaabaad63b96b94e470b">_readed</link>{<emphasis role="keyword">false</emphasis>};
<anchor xml:id="_getcfgfile_8h_source_1l00047"/><link linkend="_classGetCfgFile_1a18c943db7220f48423a9ddb4184defb2">00047</link> &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_classGetCfgFile_1a18c943db7220f48423a9ddb4184defb2">_saved</link>{<emphasis role="keyword">false</emphasis>};
<anchor xml:id="_getcfgfile_8h_source_1l00048"/><link linkend="_classGetCfgFile_1a5d62bc4744931271a5fac205868533df">00048</link> &#32;&#32;&#32;&#32;Json::Value&#32;<link linkend="_classGetCfgFile_1a5d62bc4744931271a5fac205868533df">_m_json</link>;
<anchor xml:id="_getcfgfile_8h_source_1l00049"/>00049 };
<anchor xml:id="_getcfgfile_8h_source_1l00050"/>00050 
<anchor xml:id="_getcfgfile_8h_source_1l00051"/>00051 <emphasis role="preprocessor">#endif</emphasis>
</programlisting></section>
