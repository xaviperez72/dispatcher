\hypertarget{dispatcher_8h_source}{}\doxysection{dispatcher.\+h}
\label{dispatcher_8h_source}\index{src/dispatcher.h@{src/dispatcher.h}}
\mbox{\hyperlink{dispatcher_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00001}00001\ \textcolor{preprocessor}{\#ifndef\ DISPATCHER\_H}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00002}00002\ \textcolor{preprocessor}{\#define\ DISPATCHER\_H}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <sys/socket.h>}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <netinet/in.h>}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <json/json.h>}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <json/value.h>}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dispatch__cfg_8h}{dispatch\_cfg.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{checker__pids_8h}{checker\_pids.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Socket_8h}{Socket.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{connections_8h}{connections.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{getcfgfile_8h}{getcfgfile.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ipclib_8h}{ipclib.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{thread__pair_8h}{thread\_pair.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{protocol__msg_8h}{protocol\_msg.h}}"{}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00020}\mbox{\hyperlink{structallowed__ips}{00020}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structallowed__ips}{allowed\_ips}}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00021}00021\ \{}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00022}\mbox{\hyperlink{structallowed__ips_a6bf24aea2a2a3024273ce87e694b5083}{00022}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structallowed__ips_a6bf24aea2a2a3024273ce87e694b5083}{trace}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00023}\mbox{\hyperlink{structallowed__ips_a52a2adb3f9b2453095119df134014c6d}{00023}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structallowed__ips_a52a2adb3f9b2453095119df134014c6d}{allowed}}\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00024}\mbox{\hyperlink{structallowed__ips_af31d36eb6ad012eee4f5c0564f04ec63}{00024}}\ \ \ \ \ in\_addr\ \mbox{\hyperlink{structallowed__ips_af31d36eb6ad012eee4f5c0564f04ec63}{ip}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00025}00025\ \};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00027}\mbox{\hyperlink{classDispatcher}{00027}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classDispatcher}{Dispatcher}}\ \{}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00028}\mbox{\hyperlink{classDispatcher_a16272dd720e97587260cd1d85b8d9cd8}{00028}}\ \ \ \ \ \mbox{\hyperlink{structdispatch__cfg}{dispatch\_cfg}}\ \mbox{\hyperlink{classDispatcher_a16272dd720e97587260cd1d85b8d9cd8}{\_config}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00030}\mbox{\hyperlink{classDispatcher_a023871cf97965bcfe33681aec45c0278}{00030}}\ \ \ \ \ std::vector<thread\_pair>\ \mbox{\hyperlink{classDispatcher_a023871cf97965bcfe33681aec45c0278}{\_v\_thread\_pair}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00032}\mbox{\hyperlink{classDispatcher_a030d89cc64de3ef18b775e563da891e1}{00032}}\ \ \ \ \ std::shared\_ptr<keep\_running\_flags>\ \mbox{\hyperlink{classDispatcher_a030d89cc64de3ef18b775e563da891e1}{\_sharedptr\_keep\_running}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00034}\mbox{\hyperlink{classDispatcher_aa5cca577db5505a89119c00b931fffa5}{00034}}\ \ \ \ \ std::shared\_ptr<Semaphore>\ \mbox{\hyperlink{classDispatcher_aa5cca577db5505a89119c00b931fffa5}{\_shpt\_semIPCfile}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00036}\mbox{\hyperlink{classDispatcher_a01fe79a912713358c99828dd8ae33eb4}{00036}}\ \ \ \ \ std::shared\_ptr<SharedMemory>\ \mbox{\hyperlink{classDispatcher_a01fe79a912713358c99828dd8ae33eb4}{\_shpt\_shmIPCfile}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00038}\mbox{\hyperlink{classDispatcher_a9d048f400c300c407c5a62c3b4197996}{00038}}\ \ \ \ \ \mbox{\hyperlink{classSocket}{Socket}}\ \mbox{\hyperlink{classDispatcher_a9d048f400c300c407c5a62c3b4197996}{\_server\_socket}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00039}00039\ \ \ \ \ \textcolor{comment}{//\ Shared\ Connections\ between\ dispatcher\ and\ tuxclients}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00040}\mbox{\hyperlink{classDispatcher_a4ef272a9b4eb41f62c6f28e6f790b7e8}{00040}}\ \ \ \ \ std::shared\_ptr<connections>\ \mbox{\hyperlink{classDispatcher_a4ef272a9b4eb41f62c6f28e6f790b7e8}{\_p\_cur\_connections}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00042}00042\ \ \ \ \ \textcolor{comment}{//\ Common\ message\ queue\ -\/\ All\ receiving\ messages\ go\ here.\ }}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00043}\mbox{\hyperlink{classDispatcher_a617169aea8a4c5caec50400a86401466}{00043}}\ \ \ \ \ std::shared\_ptr<MessageQueue>\ \mbox{\hyperlink{classDispatcher_a617169aea8a4c5caec50400a86401466}{\_shpt\_Common\_Msg\_Queue}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00044}00044\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00045}00045\ \ \ \ \ \textcolor{comment}{//\ Allowed\ IP's\ -\/\ Used\ by\ Accept\_Thread\ (mainly),\ Reader\ and\ Writer\ for\ logging\ purposes.\ }}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00046}00046\ \ \ \ \ \textcolor{comment}{//\ Sempahore\ not\ needed.}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00047}\mbox{\hyperlink{classDispatcher_ac81547d0bc6aa870455e218ae8bb58e8}{00047}}\ \ \ \ \ std::shared\_ptr<SharedMemory>\ \mbox{\hyperlink{classDispatcher_ac81547d0bc6aa870455e218ae8bb58e8}{\_shpt\_shmAllowedIPs}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00048}\mbox{\hyperlink{classDispatcher_aa86de669ffc45c71db171db702c2c939}{00048}}\ \ \ \ \ \mbox{\hyperlink{structallowed__ips}{allowed\_ips}}\ *\mbox{\hyperlink{classDispatcher_aa86de669ffc45c71db171db702c2c939}{\_allowed\_ips}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00050}\mbox{\hyperlink{classDispatcher_aae40315ea44ae1b054a663fbefae653d}{00050}}\ \ \ \ \ std::vector<MessageQueue>\ \mbox{\hyperlink{classDispatcher_aae40315ea44ae1b054a663fbefae653d}{\_msg\_queues}};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00051}00051\ \ \ \ \ \textcolor{comment}{//std::shared\_ptr<signal\_synch>\ \_shpt\_sigsyn;}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00053}00053\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00054}\mbox{\hyperlink{classDispatcher_a81afc8d131f2724e92e6ca1d68aae6ae}{00054}}\ \ \ \ \ \mbox{\hyperlink{classDispatcher_a81afc8d131f2724e92e6ca1d68aae6ae}{Dispatcher}}()\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00055}00055\ \ \ \ \ \mbox{\hyperlink{classDispatcher_a81afc8d131f2724e92e6ca1d68aae6ae}{Dispatcher}}(\mbox{\hyperlink{structdispatch__cfg}{dispatch\_cfg}}\ cfg,\ std::shared\_ptr<keep\_running\_flags>\ shpt\_keep\_running);}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00056}00056\ \ \ \ \ \mbox{\hyperlink{classDispatcher_a52fc4e8bef278fa415723b39b61c28a7}{\string~Dispatcher}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00058}00058\ \ \ \ \ \textcolor{comment}{//\ Constructor\ de\ copia}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00059}00059\ \ \ \ \ \mbox{\hyperlink{classDispatcher_a81afc8d131f2724e92e6ca1d68aae6ae}{Dispatcher}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\ other);}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00061}00061\ \ \ \ \ \textcolor{comment}{//\ Operador\ de\ asignación\ por\ copia}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00062}00062\ \ \ \ \ \mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\ \mbox{\hyperlink{classDispatcher_a81c3a5eace0c1f1994a3ec6c6f2c3489}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\ other);}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00064}00064\ \ \ \ \ \textcolor{comment}{//\ Constructor\ de\ movimiento}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00065}00065\ \ \ \ \ \mbox{\hyperlink{classDispatcher_a81afc8d131f2724e92e6ca1d68aae6ae}{Dispatcher}}(\mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\&\ other)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00067}00067\ \ \ \ \ \textcolor{comment}{//\ Operador\ de\ asignación\ por\ movimiento}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00068}00068\ \ \ \ \ \mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\ \mbox{\hyperlink{classDispatcher_a81c3a5eace0c1f1994a3ec6c6f2c3489}{operator=}}(\mbox{\hyperlink{classDispatcher}{Dispatcher}}\&\&\ other)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00069}00069\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00070}00070\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDispatcher_a8847de325dbee771fb33ebebb978e40d}{Launch\_All\_Threads}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00071}00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDispatcher_ab58d2e0054dd8833324bc86095af82ba}{Prepare\_Server\_Socket}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00072}00072\ \ \ \ \ \textcolor{comment}{//\ void\ Signal\_Handler\_For\_Threads();}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00073}00073\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_af6b72f91b36ed0dcee31684992b725a6}{IPC\_Setting\_Up}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00074}00074\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_a8f47f787819c857ebd5870ce8f24a787}{Accept\_Thread}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00075}00075\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_a1bdce929609ef90ec793b33f004eb256}{Assign\_connection\_to\_thread\_pair}}(\textcolor{keywordtype}{int}\ th\_id,\ \mbox{\hyperlink{structsocket__data__t}{socket\_data\_t}}\ *sd\_info);}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00076}00076\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_a802fc1e47691fdf18a24434256fe2680}{Accept\_by\_Select}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00077}00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDispatcher_ac4cda43fd65ddf8fda5ae010f4e460ef}{Ending\_all\_threads}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00078}00078\ \ \ \ \ \textcolor{comment}{//void\ Show\_All\_Shared\_Ptr();}}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00080}00080\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_a36ada166664995d1fca7676ebae0bacd}{LessCharged}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00081}00081\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_a667b6987746aaff43e0c5635a9e5226a}{LaunchTuxCli}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00082}00082\ \ \ \ \ \textcolor{keyword}{operator}\ bool();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00083}00083\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDispatcher_ac0191211316636f5e5dea1d6ee5a80ae}{operator()}}();}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00084}00084\ \};}
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{dispatcher_8h_source_l00086}00086\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
